window.__require=function e(t,o,a){function n(l,r){if(!o[l]){if(!t[l]){var s=l.split("/");if(s=s[s.length-1],!t[s]){var c="function"==typeof __require&&__require;if(!r&&c)return c(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+l+"'")}l=s}var u=o[l]={exports:{}};t[l][0].call(u.exports,function(e){return n(t[l][1][e]||e)},u,u.exports,e,t,o,a)}return o[l].exports}for(var i="function"==typeof __require&&__require,l=0;l<a.length;l++)n(a[l]);return n}({1:[function(e,t){var o=e("./package.json").version,a="en",n="jp",i={jp:{play:"\u30b9\u30bf\u30fc\u30c8"},en:{play:"Play Now!"}},l=500;function r(){console.log("H5ad v"+o),this._isInitialised=!1,this._splashAdShown=!1}function s(e){for(var t in e=e||{})void 0===e[t]&&delete e[t];return e}function c(e,t){console.error(e),(t=t||{}).noBreak?t.noBreak():(t.beforeBreak&&t.beforeBreak(),t.afterBreak&&t.afterBreak())}function u(){if(!navigator.language)return n;var e=navigator.language.toLowerCase().substr(0,2);return i[e]?e:a}r.prototype.initialize=function(e){if(this._isInitialised)console.warn("h5ad: already initialized");else{this._isInitialised=!0,e&&void 0!==e.adBreakTimeout&&(l=e.adBreakTimeout),adConfig=window.adConfig=function(){};var t=document.createElement("script");t.src="https://html5gameportal.com/embeds/wortal-1.0.0.js",t.async=!0,document.head.appendChild(t),t.addEventListener("load",()=>{window.initWortal(function(){adConfig({preloadAdBreaks:"on",sound:"on"}),console.log("Wortal setup complete!")})})}},r.prototype.onStart=function(e){if(e=e||{},this._isInitialised||this.initialize({adBreakTimeout:e.adBreakTimeout}),this._splashAdShown)console.warn("h5ad: onStart has already been called");else{this._splashAdShown=!0;var t="";t+=".splahContainer {",t+="    background-color: black;",t+="    position: absolute;",t+="    width: 100%;",t+="    height: 100%;",t+="    text-align: left;",t+="}",t+=".splahContainer .gameIcon {",t+="    position: relative;",t+="    width: 100px;",t+="    height: 100px;",t+="    background-size: 100%;",t+="    transform: translate(-50%, -100%);",t+="    left: 50%;",t+="    top: 31%;",t+="    border-radius: 10px;",t+="    border: 2px white solid;",t+="    border-radius: min(2vh,2vw);",t+="    border: min(0.7vw, 0.7vh) white solid;",t+="    width: min(30vw, 20vh);",t+="    height: min(30vw, 20vh);",t+="}",t+=".splahContainer .startButton {",t+="    background-color: rgb(255, 193, 7);",t+="    padding: 20px 30px;",t+="    border-radius: 13px;",t+="    transform: translate(-50%, 100%);",t+="    left: 50%;",t+="    top: 40%;",t+="    border: 5px solid white;",t+="    position: relative;",t+="    cursor: pointer;",t+="    font-size: 26px;",t+="    font-family: arial, verdana;",t+="    color: white;",t+="    text-align: center;",t+="    transition: all 0.1s;",t+="    width: min(50vw,27vh);",t+="    padding: min(3vw,3vh);",t+="    font-size: min(4vh,9vw);",t+="    border-radius: min(2vh,2vw);",t+="    border: min(1vw, 1vh) white solid;",t+="}",t+=".splahContainer .startButton:hover {",t+="    transform: translate(-50%, 100%) scale(1.1);",t+="    background-color: rgb(255 217 104);",t+="}";var o=document.createElement("style");o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(o);var a=document.createElement("div");e.color&&(a.style.backgroundColor=e.color),a.className="splahContainer";var n=document.createElement("div");n.textContent=i[u()].play,n.className="startButton",a.appendChild(n);var r=document.createElement("div");r.className="gameIcon",e.icon&&(r.style.backgroundImage="url("+e.icon+")"),a.appendChild(r),document.body.appendChild(a),n.onclick=function(){afterBreakCallbackCalled=!1;var t=setTimeout(function(){afterBreakCallbackCalled||(afterBreakCallbackCalled=!0,e.afterBreak&&e.afterBreak())},l);try{adBreak(s({type:"start",name:e.name||"splash_screen",beforeAd:function(){clearTimeout(t)},afterAd:function(){afterBreakCallbackCalled||(afterBreakCallbackCalled=!0,e.afterBreak&&e.afterBreak())}}))}catch(o){c(o,e)}setTimeout(function(){document.body.removeChild(a)},200)}}},r.prototype.onNext=function(e){(e=e||{}).type="next",this.adBreak(e)},r.prototype.onBrowse=function(e){(e=e||{}).type="browse",this.adBreak(e)},r.prototype.onPause=function(e){(e=e||{}).type="pause",this.adBreak(e)},r.prototype.onReward=function(e){(e=e||{}).type="reward",this.adBreak(e)},r.prototype.adBreak=function(e){var t,o=(e=e||{}).type;if(-1===["next","browse","pause","reward"].indexOf(o))return console.error("H5ad: unknown type",o);t=setTimeout(function(){e.noBreak&&e.noBreak()},l);try{adBreak(s({type:o,name:e.name||o,beforeAd:function(){t&&clearTimeout(t),e.beforeBreak&&e.beforeBreak()},afterAd:e.afterBreak,beforeReward:e.beforeReward,adDismissed:"reward"===o?e.adDismissed||function(){}:void 0,adViewed:e.adViewed}))}catch(a){c(a,e)}},r.prototype.onMute=function(){adConfig({sound:"off"})},r.prototype.onUnmute=function(){adConfig({sound:"on"})},t.exports=new r},{"./package.json":2}],2:[function(e,t){t.exports={name:"h5ad",version:"1.1.3",description:"Ad API wrapper for GC Turbo hyper casual games",main:"index.js",scripts:{},repository:{type:"git",url:"git+https://github.com/gc-turbo/h5ad.git"},author:"GC Turbo",license:"",bugs:{url:"https://github.com/gc-turbo/h5ad/issues"},homepage:"https://github.com/gc-turbo/h5ad#readme"}},{}],ComboBox:[function(e,t){"use strict";cc._RF.push(t,"133eeb3BdFEWJY2+XYBOhAK","ComboBox");var o=["English","Japanese"],a=["en","ja"];cc.Class({extends:cc.Component,properties:{triangle:cc.Node,comboLabel:cc.Label,dropDown:cc.Node,vLayoutNode:cc.Node,contentNode:cc.Node,itemPrefab:cc.Prefab},onLoad:function(){this.isDropDown=!1,this.comboLabel.string="en"==Global.language?Global.languageData.t("label_text.English"):Global.languageData.t("label_text.Japanese")},onClickItemBtn:function(e){Global.musicManager.playClickEffect(),this.rotateTriangle(),this.showHideDropDownBox(),this.isDropDown?this.isDropDown=!1:this.isDropDown=!0,e&&this.initItems()},rotateTriangle:function(){if(this.isDropDown){var e=cc.rotateTo(.5,90).easing(cc.easeCubicActionOut());this.triangle.runAction(e)}else{var t=cc.rotateTo(.5,180).easing(cc.easeCubicActionOut());this.triangle.runAction(t)}},showHideDropDownBox:function(){this.isDropDown?this.dropDown.active=!1:this.dropDown.active=!0},initItems:function(){this.vLayoutNode.removeAllChildren();for(var e=0;e<o.length;e++){var t=cc.instantiate(this.itemPrefab);t.getComponent("Item").setData(this,{language:o[e],languageSM:a[e]}),this.vLayoutNode.addChild(t)}}}),cc._RF.pop()},{}],GameConfig:[function(e,t){"use strict";cc._RF.push(t,"2205ejlHw5OmYEUMB09Kzm3","GameConfig");var o=cc.Enum({NORMAL:0,WRONG:1,RIGHT:2}),a=cc.Enum({WAIT:0,INGAME:1,CONTINUE:2,ROUNDFINISH:3,SETTLE:4,SHOWTIME:5}),n=cc.Enum({bgMusic:"audio/bgMusic",click:"audio/click",close:"audio/close",eat:"audio/eat",gothrough:"audio/gothrough",grow:"audio/grow",hit:"audio/hit",msg:"audio/msg",promptUI:"prefabs/promptUI",loading:"prefabs/loading",help:"prefabs/help",result:"prefabs/result"}),i=cc.Enum({bgmusicStatus:"bgmusicStatus",effectStatus:"effectStatus",highestScore:"highestScore",rewardAdsLastTime:"rewardAdsLastTime",level:"level"}),l=cc.Enum({rank:1e3,top:2e3,mask:2500});t.exports={STATUS_TYPE:o,GAME_STATUS:a,clientEvent:{EnterBackground:"EnterBackground",EnterForeground:"EnterForeground",playGame:"playGame",gameOver:"gameOver",gotoHome:"gotoHome",showTime:"showTime",updateAsset:"updateAsset",updateLabel:"updateLabel",gogogo:"gogogo",changeHero:"changeHero",createHero:"createHero"},PERLOAD_NAME:n,KEY:i,LAYER_ORDER:l,Events:{choose:"choose",create:"create",create_shortcut:"create_shortcut",share:"share",subscribe_bot:"subscribe_bot",switch:"switch",update:"update"},EventType:{choose:"choose",create:"create",switch:"switch",update:"update",share:"share"},FeatureType:{invite:"INVITE",share:"SHARE"},Feature:{challenge:"challenge",atStart:"atStart",atGameOver:"atGameOver",fromScoreBoard:"fromScoreBoard",fromGameOver:"fromGameOver"},Asset:{invite1:"invite1",share1:"share1"},Source:{homeAlone:"homeAlone",homeWithFriends:"homeWithFriends",gameOverWithFriends:"gameOverWithFriends",gameOverChallenge:"gameOverChallenge",retry:"retry"}},cc._RF.pop()},{}],Global:[function(e,t){"use strict";cc._RF.push(t,"5b57cRzx91BHrVzrUm7nlFn","Global"),window.Global=window.Global||{},window.reStartGame=function(){cc.game.restart()},window.startGame=function(t){window.isShow=!1,cc.game.on(cc.game.EVENT_HIDE,function(){window.isShow&&(Global.emitter.emit("EnterBackground"),window.isShow=!1)}),cc.game.on(cc.game.EVENT_SHOW,function(){window.isShow||(Global.emitter.emit("EnterForeground"),window.isShow=!0)}),Global.tools=e("Tools")(),Global.emitter=e("emitter")(),Global.tools.gta.init("321085","0033cb7f59e3cd9a32e9a1abd8807afa"),Global.tools.gta.sendBaseUserProperties(),Global.cGridSize=50;var a=t.getContentSize();Global.cBoundHalfRow=parseInt(a.height/(2*Global.cGridSize)),Global.cBoundHalfColumn=parseInt(a.width/(2*Global.cGridSize)),console.log("zz:"+Global.cBoundHalfRow+" ** "+Global.cBoundHalfColumn),Global.Pos2EventMap={},Global.EmptyPos={};for(var n=-Global.cBoundHalfColumn;n<Global.cBoundHalfColumn+1;n++)for(var i=-Global.cBoundHalfRow;i<Global.cBoundHalfRow+1;i++)Global.EmptyPos[n+","+i]=[n,i];Global.isDebug=!1;var l=Global.getAppName()+"language";Global.language=cc.sys.localStorage.getItem(l),null!=Global.language&&null!=Global.language||(Global.language=o()),cc.sys.localStorage.setItem(l,Global.language),Global.languageData=e("LanguageData"),Global.languageData.init(Global.language),Global.LangCode={English:1,Japanese:2},Global.defaultLangCode=Global.LangCode.Japanese,Global.player={curScore:0,highestScore:0},Global.curLevel="0",Global.player.highestScore=0,Global.resourceManager=e("ResourceManager")(),Global.musicManager=e("MusicManager")(),e("PreLoadManager"),Global.panel=e("Panel")()},Global.getAppName=function(){return Global.isDebug?"snake-dev":"snake"},Global.getVersion=function(){return Global.isDebug?"1.0.0":"1.0.2"},Global.Vector2Dir=function(e,t){return Math.abs(e)>Math.abs(t)?e<0?"left":"right":t<0?"down":"up"},Global.makeKeyPos=function(e){var t=e.split(","),o=parseInt(t[0]),a=parseInt(t[1]);Global.EmptyPos[e]=[o,a]},Global.makePosKey=function(e,t){return e+","+t},Global.getWeblinkSource=function(){return document?document.referrer||document.URL:"Unknown"};var o=function(){var e,t,o=window.navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(Array.isArray(o.languages))for(e=0;e<o.languages.length;e++)if((t=o.languages[e])&&t.length)return t.slice(0,2);for(e=0;e<a.length;e++)if((t=o[a[e]])&&t.length)return t.slice(0,2);return null};cc._RF.pop()},{LanguageData:"LanguageData",MusicManager:"MusicManager",Panel:"Panel",PreLoadManager:"PreLoadManager",ResourceManager:"ResourceManager",Tools:"Tools",emitter:"emitter"}],Item:[function(e,t){"use strict";cc._RF.push(t,"63015ztVsdNVoLv7+UmBbiE","Item"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},_parentCtrl:null,_data:null},setData:function(e,t){this._parentCtrl=e,this._data=t,Global.languageData.init(Global.language),this.label.string=Global.languageData.t("label_text."+t.language)},onClickItemBtn:function(){this._parentCtrl.onClickItemBtn(),this._data.languageSM!=Global.language&&(Global.language=this._data.languageSM,cc.sys.localStorage.setItem(Global.getAppName()+"language",Global.language),Global.languageData.init(Global.language),this._parentCtrl.comboLabel.string=Global.languageData.t("label_text."+this._data.language),Global.languageData.updateSceneRenderers())}}),cc._RF.pop()},{}],LanguageData:[function(e,t){"use strict";cc._RF.push(t,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var o=e("polyglot.min"),a=null;function n(e){return window.i18n.languages[e]}function i(e){e&&(a?a.replace(e):a=new o({phrases:e,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(e!==window.i18n.curLang){var t=n(e)||{};window.i18n.curLang=e,i(t),this.inst=a}},t:function(e,t){if(a)return a.t(e,t)},inst:a,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],o=0;o<e.length;++o){var a=e[o].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,a)}for(var n=0;n<t.length;++n){var i=t[n];i.node.active&&i.updateLabel()}for(var l=[],r=0;r<e.length;++r){var s=e[r].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(l,s)}for(var c=0;c<l.length;++c){var u=l[c];u.node.active&&u.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizedLabel:[function(e,t){"use strict";cc._RF.push(t,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var o=e("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){o.inst||o.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){this.label?o.t(this.dataID)&&(this.label.string=o.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t){"use strict";cc._RF.push(t,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var o=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:o}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],MainScene:[function(e,t){"use strict";cc._RF.push(t,"5e5966z/eFO2ar90G3Leqy1","MainScene");var o=e("GameConfig"),a=e("h5ad"),n=e("collideManager"),i=cc.Enum({0:"easy",1:"normal",2:"hard"}),l=[{initTime:.3,reduceTime:.01,intervalNum:2,minTime:.2},{initTime:.25,reduceTime:.01,intervalNum:1,minTime:.15},{initTime:.15,reduceTime:.01,intervalNum:2,minTime:.05}];cc.Class({extends:cc.Component,properties:{snake:{default:null,type:cc.Node},apple:{default:null,type:cc.Sprite},scoreLab:{default:null,type:cc.Label},highestLab:{default:null,type:cc.Label},scoreNum:{default:0,type:cc.Integer,notify:function(){Global.player.curScore=this.scoreNum,Global.languageData.init(Global.language),this.scoreLab.string=this.scoreNum,this.scoreNum>Global.player.highestScore&&(Global.player.highestScore=this.scoreNum,this.highestLab.string=this.scoreNum,cc.sys.localStorage.setItem(Global.getAppName()+Global.curLevel+"highestScore",Global.player.highestScore))}},portalController:{default:null,type:cc.Node},settingPanel:{default:null,type:cc.Node},speedLab:{default:null,type:cc.Label},levelLab:{default:null,type:cc.Label},homePageNode:{default:null,type:cc.Node},homepageToggle:{default:null,type:cc.Toggle},gameToggle:{default:null,type:cc.Toggle},pauseBtn:{default:null,type:cc.Node},resumeBtn:{default:null,type:cc.Node},tipNode:{default:null,type:cc.Node},bg:{default:null,type:cc.Sprite},bgSF:{default:[],type:cc.SpriteFrame},testPre:{default:null,type:cc.Prefab},rangeNode:{default:null,type:cc.Node},_isGameOver:!1,_settingData:null,_startLocation:null},onLoad:function(){Global.tools.gta.pushEvent("gameSession",{weblinkSource:document.referrer||document.URL,gameName:Global.getAppName()}),Global.emitter.on(o.clientEvent.EnterBackground,this.EnterBackground,this),Global.emitter.on(o.clientEvent.EnterForeground,this.EnterForeground,this),this.registerEvent(),this.isBackGround=!1,cc.sys.localStorage.setItem("isFirstTime",1),a.onStart({icon:Global.tools.getResourceUrl("icon"),color:"rgb(5, 35, 92)",afterBreak:function(){Global.musicManager.playBGM(o.PERLOAD_NAME.bgMusic);var e=new Object;e.adType="Interstitial",e.gameName=Global.getAppName(),e.weblinkSource=Global.getWeblinkSource(),e.gameFeature="interstitialAD_start",Global.tools.gta.pushEvent("AdShowSuccess",e)},adBreakTimeout:3e3}),this.homePageNode.active=this.tipNode.active=!0,Global.gameCtrl=this,this.settingPanel.active=!1,this._settingCtrl=this.settingPanel.getComponent("settingCtrl"),this.speedLab.string="Speed: 0",this.sk=this.snake.getComponent("snake"),this.pc=this.portalController.getComponent("portal");var e=cc.sys.localStorage.getItem(Global.getAppName()+o.KEY.soundStatus);null==e||null==e||0==e?(this.homepageToggle.uncheck(),this.gameToggle.uncheck()):1==e&&(this.homepageToggle.check(),this.gameToggle.check())},EnterBackground:function(){this.isBackGround=!0,this.unregisterEvent()},EnterForeground:function(){this.isBackGround&&(this.isBackGround=!1,this.registerEvent())},registerEvent:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.game.canvas.focus()},unregisterEvent:function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onTouchStart:function(e){cc.director.isPaused()||this._isGameOver||(this._startLocation=e.getLocation())},onTouchEnd:function(e){if(!cc.director.isPaused()&&!this._isGameOver){this.tipNode.active=!1;var t=e.getLocation(),o=t.x-this._startLocation.x,a=t.y-this._startLocation.y;if(Math.pow(o,2)+Math.pow(a,2)>=50){var n=Global.Vector2Dir(o,a);this.sk.setDir(n)}}},playGame:function(e){void 0===e&&(e=0),this.homePageNode.active=!1,Global.player.highestScore=0;var t=cc.sys.localStorage.getItem(Global.getAppName()+Global.curLevel+"highestScore");t&&(Global.player.highestScore=1*t),this.highestLab.string=Global.player.highestScore;var o=Global.tools.getRandomNum(0,this.bgSF.length-1);this.bg.spriteFrame=this.bgSF[o],this.reset(e)},gotoHome:function(){this.homePageNode.active=!0},onKeyDown:function(e){if(!cc.director.isPaused()&&!this._isGameOver&&1!=this.homePageNode.active){1==this.tipNode.active&&(this.tipNode.active=!1);var t=this.sk.MoveDir;switch(e.keyCode){case cc.macro.KEY.a:case cc.macro.KEY.left:t="left";break;case cc.macro.KEY.d:case cc.macro.KEY.right:t="right";break;case cc.macro.KEY.w:case cc.macro.KEY.up:t="up";break;case cc.macro.KEY.s:case cc.macro.KEY.down:t="down"}this.sk.setDir(t)}},startGame:function(){this.sk.updateDirFromBuffer(),this.sk.updatePos(),this.collideListener()},collideListener:function(){var e=this,t=e.sk.getHeadGrid(),a=n.checkCollide(t[0],t[1]);"body0"!=a.name&&console.log("collideListener======>"+a.name+" ** "+e.sk.MoveDir),null!=a&&(a.hasOwnProperty("name")?"body0"!=a.name&&("apple"==a.name?(Global.musicManager.playEffect(o.PERLOAD_NAME.grow),e.createApple(),e.sk.grow(),e.scoreNum+=1,e.speederNum+=1,e.speederNum==this._settingData.intervalNum&&(e.snakeSpeed-=this._settingData.reduceTime,e.snakeSpeed=e.snakeSpeed<=this._settingData.minTime?this._settingData.minTime:e.snakeSpeed,e.unschedule(e.startGame),e.schedule(e.startGame,e.snakeSpeed),e.speederNum=0),this.speedLab.string="Speed: "+e.snakeSpeed.toFixed(2)):"body"==a.type?(Global.musicManager.playEffect(o.PERLOAD_NAME.eat),e.unschedule(e.startGame),e._isGameOver=!0,e.pauseBtn.active=e.resumeBtn.active=!1,e.sk.blink(function(){e.showGameResult()})):"portal"==a.type&&(Global.musicManager.playEffect(o.PERLOAD_NAME.gothrough),e.sk.setHeadGrid(a.link[0],a.link[1]))):"fence"==a.type&&(Global.musicManager.playEffect(o.PERLOAD_NAME.hit),e.unschedule(e.startGame),e._isGameOver=!0,e.pauseBtn.active=e.resumeBtn.active=!1,e.sk.blink(function(){e.showGameResult()})))},showGameResult:function(e){void 0===e&&(e=!1),Global.panel.openLoading(),Global.panel.showAsynPanelByName(o.PERLOAD_NAME.result).then(function(){Global.panel.closeLoading()},function(){Global.panel.closeLoading()})},reset:function(e){void 0===e&&(e=0),this.scoreNum=e,this.superNum=this.speederNum=this.restNum=0,this._isGameOver=!1,this.pauseBtn.active=!0,this.resumeBtn.active=!1,n.resetBodyCol(),this.sk.kill(),this.sk.initSnake(),this.createApple(),"1"==Global.curLevel||"2"==Global.curLevel?this.pc.createPort():this.pc.removePortal(),this.levelLab.string=Global.languageData.t("label_text."+i[Global.curLevel]),this._settingData=l[Global.curLevel],this.snakeSpeed=this._settingData.initTime,this.speedLab.string="Speed: "+this.snakeSpeed,this.schedule(this.startGame,this.snakeSpeed)},createApple:function(){var e=this.apple.node;e.getComponent("apple").changeTexture(),e.width=e.height=Global.cGridSize,e.opacity=0;var t=n.randomEmptyPos(),o=t[0],a=t[1];n.setCollide(o,a,{name:"apple"}),e.setPosition(o*Global.cGridSize,a*Global.cGridSize),e.opacity=255},onClickSettingBtn:function(){Global.musicManager.playClickEffect(),Global.panel.openLoading(),Global.panel.showAsynPanelByName(o.PERLOAD_NAME.setting).then(function(){Global.panel.closeLoading()},function(){Global.panel.closeLoading()})},onClickOptionsBtn:function(){Global.musicManager.playClickEffect();var e={initTime:this._settingData.initTime,reduceTime:this._settingData.reduceTime,intervalNum:this._settingData.intervalNum,minTime:this._settingData.minTime};this.settingPanel.active=!0,this._settingCtrl.onSetData(this,e),this.onClickPauseOrResumeBtn(null,0)},onClickConfirmBtn:function(e){this._settingData=e},onClickSoundToggle:function(e,t){Global.musicManager.playClickEffect();var n=e.isChecked?1:0;cc.sys.localStorage.setItem(Global.getAppName()+o.KEY.soundStatus,n),e.isChecked?a.onMute():a.onUnmute(),1==n?(Global.musicManager.pauseBGMusic(),Global.musicManager.stopAllEffects(),"homepage"==t?this.gameToggle.check():"game"==t&&this.homepageToggle.check()):(Global.musicManager.resumeMusic(),"homepage"==t?this.gameToggle.uncheck():"game"==t&&this.homepageToggle.uncheck())},onClickHelpBtn:function(){Global.musicManager.playClickEffect(),Global.panel.openLoading(),Global.panel.showAsynPanelByName(o.PERLOAD_NAME.help).then(function(){Global.panel.closeLoading()},function(){Global.panel.closeLoading()})},onClickPlayBtn:function(e,t){Global.musicManager.playClickEffect(),Global.curLevel=t,this.playGame()},onClickPauseOrResumeBtn:function(e){Global.musicManager.playClickEffect(),cc.director.isPaused()&&null!=e?(cc.director.resume(),this.pauseBtn.active=!0,this.resumeBtn.active=!1,"0"===cc.sys.localStorage.getItem(Global.getAppName()+o.KEY.soundStatus,status)&&Global.musicManager.resumeMusic(),Global.tools.showAds("pause",!1,function(e){var t=new Object;t.adType="Interstitial",t.gameName=Global.getAppName(),t.weblinkSource=Global.getWeblinkSource(),t.gameFeature="interstitialAD_pause",e?Global.tools.gta.pushEvent("AdShowSuccess",t):Global.tools.gta.pushEvent("AdShowFail",t)})):(cc.director.pause(),this.pauseBtn.active=!1,this.resumeBtn.active=!0,Global.musicManager.pauseBGMusic(),Global.musicManager.stopAllEffects(),Global.tools.showAds("pause",!1,function(e){var t=new Object;t.adType="Interstitial",t.gameName=Global.getAppName(),t.weblinkSource=Global.getWeblinkSource(),t.gameFeature="interstitialAD_pause",e?Global.tools.gta.pushEvent("AdShowSuccess",t):Global.tools.gta.pushEvent("AdShowFail",t)}))},onDestroy:function(){Global.emitter.off(o.clientEvent.EnterBackground,this),Global.emitter.off(o.clientEvent.EnterForeground,this),this.unregisterEvent()}}),cc._RF.pop()},{GameConfig:"GameConfig",collideManager:"collideManager",h5ad:1}],MusicManager:[function(e,t){"use strict";cc._RF.push(t,"a131elNKz9EA7wE3M6Jc28K","MusicManager");var o=e("GameConfig"),a=function(){this.resetData()},n=a.prototype,i=null;n.resetData=function(){},n.playEffect=function(e,t,a,n){void 0===a&&(a=!1),void 0===n&&(n=!1);var i=cc.sys.localStorage.getItem(Global.getAppName()+o.KEY.soundStatus);if(1!=i||0!=n){1==a&&cc.audioEngine.stopAllEffects();var l=Global.resourceManager.getRes(e);if(l&&cc.isValid(l)){var r=n?cc.audioEngine.playMusic(l,!0):cc.audioEngine.play(l,!1,1);1==i&&1==n&&cc.audioEngine.pauseMusic(),cc.audioEngine.setFinishCallback(r,function(){t&&t()})}else cc.loader.loadRes(e,cc.AudioClip,function(o,a){if(o)console.error(o);else{var l=n?cc.audioEngine.playMusic(a,!0):cc.audioEngine.play(a,!1,1);1==i&&1==n&&cc.audioEngine.pauseMusic(),cc.audioEngine.setFinishCallback(l,function(){t&&t()}),Global.resourceManager.setRes(e,a)}})}},n.playBGM=function(e){this.playEffect(e,null,!1,!0)},n.playClickEffect=function(e){this.playEffect("audio/click",e)},n.playCloseEffect=function(e){this.playEffect("audio/close",e)},n.pauseBGMusic=function(){cc.audioEngine.pauseMusic()},n.resumeMusic=function(){cc.audioEngine.resumeMusic()},n.stopAllEffects=function(){cc.audioEngine.stopAllEffects()},t.exports=function(){return i||(i=new a),i},cc._RF.pop()},{GameConfig:"GameConfig"}],Panel:[function(e,t){"use strict";cc._RF.push(t,"59b5fRoDLBIzLjHPRSPOWw9","Panel");var o=e("GameConfig"),a=function(){this.resetData()},n=a.prototype,i=null;n.resetData=function(){},n.showAsynPanelByName=function(e,t,o){var a=this,n=this;return t=t||cc.director.getScene(),new Promise(function(i,l){var r=Global.resourceManager.getRes(e);r?i(a.showChildPanel(r,t,o)):cc.loader.loadRes(e,cc.Prefab,function(e,a){e?l(e):(Global.resourceManager.setRes(a),i(n.showChildPanel(a,t,o)))})})},n.showChildPanel=function(e,t,o){var a=cc.instantiate(e);return o&&a.getComponent(a.name).set("fromTag",o),a.parent=t,a},n.closeChildPanel=function(e,t){var o=(t=t||cc.director.getScene()).children;if(o)for(var a=0;a<o.length;a++){var n=o[a],i=n.getComponent(n.name);i&&null!=i.get&&i.get("fromTag")===e&&n.destroy()}},n.showPrompt=function(e){Global.musicManager.playEffect(o.PERLOAD_NAME.msg),this.showAsynPanelByName(o.PERLOAD_NAME.promptUI).then(function(t){t.getComponent(t.name).showDes(e)})},n.openLoading=function(e,t){void 0===t&&(t=2e4),this.showAsynPanelByName(o.PERLOAD_NAME.loading,null,o.LAYER_ORDER.mask).then(function(o){o.getComponent(o.name).startCountDown(e,t)})},n.closeLoading=function(){this.closeChildPanel(o.LAYER_ORDER.mask)},t.exports=function(){return i||(i=new a),i},cc._RF.pop()},{GameConfig:"GameConfig"}],PreLoadManager:[function(e,t){"use strict";cc._RF.push(t,"31942JE5IZM5ISfE8tlXIGH","PreLoadManager");var o=e("GameConfig");cc.Class({extends:cc.Component,properties:{rangeNode:{default:null,type:cc.Node},_loadList:[],_loadCount:0,_loadedCount:0,_curResUrl:""},onLoad:function(){startGame(this.rangeNode),this._loadList=[{url:o.PERLOAD_NAME.bgMusic,type:"localAudioClip",format:"mp3"},{url:o.PERLOAD_NAME.click,type:"localAudioClip",format:"mp3"},{url:o.PERLOAD_NAME.close,type:"localAudioClip",format:"mp3"},{url:o.PERLOAD_NAME.eat,type:"localAudioClip",format:"mp3"},{url:o.PERLOAD_NAME.gothrough,type:"localAudioClip",format:"mp3"},{url:o.PERLOAD_NAME.grow,type:"localAudioClip",format:"mp3"},{url:o.PERLOAD_NAME.hit,type:"localAudioClip",format:"mp3"},{url:o.PERLOAD_NAME.msg,type:"localAudioClip",format:"mp3"},{url:o.PERLOAD_NAME.promptUI,type:"prefab"},{url:o.PERLOAD_NAME.loading,type:"prefab"},{url:o.PERLOAD_NAME.result,type:"prefab"},{url:o.PERLOAD_NAME.help,type:"prefab"}],this._loadCount=this._loadList.length,this.loadRes()},loadRes:function(){var e=this;if(this._loadList.length<=0)this.preloadDone();else{var t=this._loadList.shift();"scene"==t.type?cc.director.preloadScene(t.url,function(){e._loadCount++,e.updateProgress(e._loadedCount,e._loadCount),e.loadRes()}):"spriteAtlas"==t.type?cc.loader.loadRes(t.url,cc.SpriteAtlas,this.loadCompleteCallback.bind(this)):"remoteAudioClip"==t.type?cc.loader.load({url:t.url,type:t.format},this.loadCompleteCallback.bind(this)):cc.loader.loadRes(t.url,this.loadCompleteCallback.bind(this)),this._curResUrl=t.url}},loadCompleteCallback:function(e,t){this._loadedCount++,this.updateProgress(this._loadedCount,this._loadCount),e?console.log(e):this.parseResource(t),this.loadRes()},parseResource:function(e){Global.resourceManager.setRes(this._curResUrl,e)},preloadDone:function(){},updateProgress:function(){}}),cc._RF.pop()},{GameConfig:"GameConfig"}],ResourceManager:[function(e,t){"use strict";cc._RF.push(t,"b9498yjFjFFRYAnV1hTfZhI","ResourceManager");var o=function(){this.resetData()},a=o.prototype,n=null;a.resetData=function(){this._cacheList=[]},a.setRes=function(e,t){this._cacheList[e]=t},a.getRes=function(e){return this._cacheList[e]},a.getSpriteFrameFromAtlas=function(e,t){return this.getRes(e).getSpriteFrame(t)},a.loadRes=function(e,t){var o=this.getRes(e);if(null!=o)return console.log("\u5df2\u7ecf\u5b58\u5728\uff1a"+e),void(t&&t(o));var a=this;cc.loader.loadRes(e,function(o,n){o?console.error(o):a.setRes(e,n),null!=t&&t(n)})},a.releaseRes=function(e){this._cacheList[e].destroy();var t=cc.loader.getDependsRecursively(e);cc.loader.release(t)},t.exports=function(){return n||(n=new o),n},cc._RF.pop()},{}],SpriteFrameSet:[function(e,t){"use strict";cc._RF.push(t,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var o=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=o,cc._RF.pop()},{}],Tools:[function(e,t){"use strict";cc._RF.push(t,"b0725gdMZNKXrVND8Mafz7Y","Tools");var o=e("h5ad"),a=function(){this.resetData()},n=a.prototype,i=null;n.resetData=function(){},n.setSpriteImg=function(e,t){null!=e&&Global.resourceManager.loadRes(t,function(t){e.spriteFrame=new cc.SpriteFrame(t)})},n.getRandomNum=function(e,t){return parseInt(Math.random()*(t-e+1)+e)},n.getRandomArray=function(e){for(var t=[],o=0;o<e;o++)t.push(o);for(var a=0;a<t.length;a++){var n=parseInt(Math.random()*t.length),i=t[n];t[n]=t[a],t[a]=i}return t},n.fitFunc=function(e){var t=cc.view.getVisibleSize(),o=cc.view.getDesignResolutionSize();t.width/o.width>t.height/o.height?(cc.log("fitHeight"),e.fitHeight=!0,e.fitWidth=!1):t.width/o.width<t.height/o.height&&(cc.log("fitWidth"),e.fitHeight=!1,e.fitWidth=!0)},n.numberFormat=function(e){var t,o={};return e<1e3?(o.value=e,o.unit=""):(t=Math.floor(Math.log(e)/Math.log(1e3)),o.value=(e/Math.pow(1e3,t)).toFixed(2),o.unit=["","K","M","B","t","q","Q","s","g","G","r"][t]),o},n.getNumStr=function(e){var t=this.numberFormat(e),o=""+t.value,a=o.indexOf(".");if(a>=0&&3!==a)for(o=o.substring(0,4);o.length>0;){var n=o[o.length-1];if("0"!=n&&"."!=n)break;if(o=o.substring(0,o.length-1),"."===n)break}else o=o.substring(0,3);return o+t.unit},n.getBase64Image=function(e){return new Promise(function(t,o){cc.loader.loadRes(e,function(e,a){if(e)o(e);else{var n=document.createElement("CANVAS"),i=n.getContext("2d"),l=a.getHtmlElementObj();n.width=l.width,n.height=l.height,i.drawImage(l,0,0,n.width,n.height);var r=n.toDataURL("image/png");n=null,t(r)}})})},n.myBrowser=function(){var e="other";if(window.navigator&&window.navigator.hasOwnProperty("userAgent")){var t=window.navigator.userAgent;t.indexOf("OPR")>-1||t.indexOf("Opera")>-1?e="Opera":t.indexOf("Firefox")>-1?e="Firefox":t.indexOf("Chrome")>-1?e="Chrome":t.indexOf("Safari")>-1&&(e="Safari")}return e},n.timeFormat=function(e){var t=new Date(parseInt(e)),o=t.getFullYear(),a=t.getMonth()+1;a=a<10?"0"+a:a;var n=t.getDate();return o+a+(n<10?"0"+n:n)},n.deepClone=function(e){var t,o=function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)},a=o(e);if("Object"===a)t={};else{if("Array"!==a)return e;t=[]}for(var n in e){var i=e[n];"Object"==o(i)?t[n]=arguments.callee(i):"Array"==o(i)?t[n]=arguments.callee(i):t[n]=e[n]}return t},n.showAds=function(e,t,a){var n=new Object;n.type=e,n.beforeBreak=function(){console.log("beforeBreak"),t&&(cc.director.pause(),cc.audioEngine.pauseAll())},n.afterBreak=function(){console.log("afterBreak"),t&&(cc.director.resume(),cc.audioEngine.resumeAll()),"reward"!=e&&a&&a(!0)},"reward"==e&&(n.beforeReward=function(e){console.log("beforeReward"),e()}),n.adDismissed=function(){console.log("adDismissed"),a&&a(!1)},"reward"==e&&(n.adViewed=function(){console.log("adViewed"),a&&a(!0)}),n.noBreak=function(){console.log("noBreak"),t&&(cc.director.resume(),cc.audioEngine.resumeAll()),a&&a(!0)},o.adBreak(n)},n.getResourceUrl=function(e){var t=cc.resources.getInfoWithPath(e),o=t.uuid;return t.nativeVer&&(o+="."+t.nativeVer),"./assets/resources/native/"+o.substr(0,2)+"/"+o+".png"},n.gta={},n.gta.init=function(e,t){var o={gameId:e,version:Global.getVersion(),debugLog:!0,amplitude:{apiKey:t,debugLog:!0}};gcTurboAnalytics.init(o)},n.gta.sendBaseUserProperties=function(){var e=new Object;e["gameName "]=Global.getAppName(),e.version=Global.getVersion(),e.weblinkSource=Global.getWeblinkSource(),gcTurboAnalytics.setUserProperties(e)},n.gta.setUserProperties=function(e){gcTurboAnalytics.setUserProperties(e)},n.gta.pushEvent=function(e,t){gcTurboAnalytics.pushEvent(e,t)},t.exports=function(){return i||(i=new a),i},cc._RF.pop()},{h5ad:1}],apple:[function(e,t){"use strict";cc._RF.push(t,"189dfzaVWtNc42JTPpRWkdQ","apple"),cc.Class({extends:cc.Component,properties:{foodIcon:{default:null,type:cc.Sprite},foodSF:{default:[],type:cc.SpriteFrame}},onLoad:function(){},changeTexture:function(){var e=Global.tools.getRandomNum(0,this.foodSF.length-1);this.foodIcon.spriteFrame=this.foodSF[e]}}),cc._RF.pop()},{}],body:[function(e,t){"use strict";cc._RF.push(t,"fb603Rp8kpHtayqid3vFZbG","body"),cc.Class({extends:cc.Component,properties:{head:{default:null,type:cc.SpriteFrame},body:{default:null,type:cc.SpriteFrame}},onLoad:function(){this.sp=this.node.addComponent(cc.Sprite),this.sp.spriteFrame=this.head},updatePos:function(){this.node.setPosition(this.posx*Global.cGridSize,this.posy*Global.cGridSize)},setPro:function(e,t,o){o?(this.sp.spriteFrame=this.head,this.node.zIndex=1,this.sp.node.width=this.node.height=Global.cGridSize):(this.sp.spriteFrame=this.body,this.node.height=this.sp.node.width=Global.cGridSize+10),this.posx=e,this.posy=t,this.updatePos(e,t)}}),cc._RF.pop()},{}],collideManager:[function(e,t){"use strict";cc._RF.push(t,"ec9de6SkO9PwrgjL1UF3MqN","collideManager");var o={setCollide:function(e,t,o){var a=Global.makePosKey(e,t);if(o.hasOwnProperty("name"))for(var n in Global.Pos2EventMap)Global.Pos2EventMap[n].hasOwnProperty("name")&&Global.Pos2EventMap[n].name==o.name&&(Global.makeKeyPos(n),delete Global.Pos2EventMap[n]);if(null!=Global.Pos2EventMap[a])return Global.Pos2EventMap[a].hasOwnProperty("name")&&"body0"!=o.name&&"body"==o.type&&"portal"!=Global.Pos2EventMap[a].type?(delete Global.EmptyPos[a],void(Global.Pos2EventMap[a]=o)):void 0;delete Global.EmptyPos[a],Global.Pos2EventMap[a]=o},checkCollide:function(e,t){return Global.Pos2EventMap[Global.makePosKey(e,t)]},resetCollide:function(){Global.Pos2EventMap={}},randomEmptyPos:function(){var e,t=Object.keys(Global.EmptyPos),o=t[(e=t.length-1,0,Math.floor(Math.random()*(e-0+1)+0))];return Global.EmptyPos[o]},resetBodyCol:function(){for(var e in Global.Pos2EventMap)"body"==Global.Pos2EventMap[e].type&&(delete Global.Pos2EventMap[e],Global.makeKeyPos[e])},getEventByKey:function(e,t){var o=Global.makePosKey(e,t);return Global.Pos2EventMap[o]}};t.exports=o,cc._RF.pop()},{}],emitter:[function(e,t){"use strict";cc._RF.push(t,"af14eiX8uJLo6eO4nPr7xmX","emitter");var o=function(e,t){for(var o=0;o<e.length;++o)if(e[o].obj===t)return o;return-1},a=null;function n(e){if(e)return i(e)}function i(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}t.exports=function(){return a||(a=new n),a},n.prototype.on=function(e,t,o){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push({func:t,obj:o}),this},n.prototype.once=function(e,t,o){var a=this;function n(){a.off(e,n),t.apply(o,arguments)}return this._callbacks=this._callbacks||{},t._off=n,this.on(e,n,o),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var a=this._callbacks[e];if(!a)return this;if(1==arguments.length)return delete this._callbacks[e],this;var n=o(a,t);return~n&&a.splice(n,1),this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),o=this._callbacks[e];if(o){console.log("\u53d1\u9001\u4e86\u4e8b\u4ef6",e,t);for(var a=0,n=(o=o.slice(0)).length;a<n;++a){var i=o[a].obj;o[a].func&&o[a].func.apply(i,t)}}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length},cc._RF.pop()},{}],fences:[function(e,t){"use strict";cc._RF.push(t,"0a220mNi5dBRaqDXuPtV/nb","fences");var o=e("collideManager");cc.Class({extends:cc.Component,properties:{fence:{default:null,type:cc.Prefab},fenceSpArr:null},onLoad:function(){this.fenceSpArr=[],this.fencePool=new cc.NodePool;for(var e=4*Global.cBoundHalfColumn,t=0;t<e;++t){var o=cc.instantiate(this.fence);o.width=Global.cGridSize/4,o.height=Global.cGridSize/4,this.fencePool.put(o)}this.fencesInit()},createFence:function(e,t){var o=null;this.fencePool.size()>0?o=this.fencePool.get():((o=cc.instantiate(this.fence)).width=Global.cGridSize/4,o.height=Global.cGridSize/4),o.setPosition(e*Global.cGridSize,t*Global.cGridSize),this.fenceSpArr.push(o),o.parent=this.node},fenceGenerator:function(e,t){for(var o=-e;o<e+1;o++){var a=t(o);this.createFence(a[0],a[1])}},fencesInit:function(){this.fenceGenerator(Global.cBoundHalfRow,function(e){return o.setCollide(Global.cBoundHalfColumn,e,{type:"fence"}),[Global.cBoundHalfColumn,e]}),this.fenceGenerator(Global.cBoundHalfRow,function(e){return o.setCollide(-Global.cBoundHalfColumn,e,{type:"fence"}),[-Global.cBoundHalfColumn,e]}),this.fenceGenerator(Global.cBoundHalfColumn,function(e){return o.setCollide(e,Global.cBoundHalfRow,{type:"fence"}),[e,Global.cBoundHalfRow]}),this.fenceGenerator(Global.cBoundHalfColumn,function(e){return o.setCollide(e,-Global.cBoundHalfRow,{type:"fence"}),[e,-Global.cBoundHalfRow]})},reset:function(){this.node.removeAllChildren()}}),cc._RF.pop()},{collideManager:"collideManager"}],help:[function(e,t){"use strict";cc._RF.push(t,"9041fzp8YFEyYbM9ycW9SOH","help"),cc.Class({extends:cc.Component,properties:{icon:{default:null,type:cc.Node},playLab:{default:null,type:cc.RichText}},onLoad:function(){this.icon.scale="en"==Global.language?1:1.5,"ja"==Global.language?this.playLab.string="<color=#0fffff>(1) \u30d7\u30ec\u30a4\u30e4\u30fc\u306f\u30d8\u30d3\uff081\u30ad\u30e3\u30e9\u5206\u306e\u30d6\u30ed\u30c3\u30af\u304c\u9023\u306a\u308a\u3001\u7d30\u9577\u3044\u5f62\u72b6\u3092\u3057\u3066\u3044\u308b\u3082\u306e\uff09\u3092\u64cd\u4f5c\u3057\u3001\u305d\u306e\u982d\u304c\u753b\u9762\u306e\u5468\u56f2\u3042\u308b\u3044\u306f\u81ea\u8eab\u306e\u8eab\u4f53\u306b\u3076\u3064\u304b\u3089\u306a\u3044\u3088\u3046\u306b\u3057\u306a\u304c\u3089\u3001\u30e9\u30f3\u30c0\u30e0\u3067\u51fa\u73fe\u3059\u308b\u30a8\u30b5\u3092\u56de\u53ce\u3059\u308b\u3002\u30a8\u30b5\u3092\u56de\u53ce\u3059\u308b\u305f\u3073\u306b\u30d8\u30d3\u306e\u8eab\u4f53\u306f1\u30ad\u30e3\u30e9\u305a\u3064\u9577\u304f\u306a\u3063\u3066\u3044\u304f\u3002\n\n(2) \u30d8\u30d3\u306f\u9759\u6b62\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u305a\u3001\u5e38\u306b\u52d5\u304d\u56de\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u30a8\u30b5\u3092\u56de\u53ce\u3059\u308c\u3070\u3059\u308b\u307b\u3069\u81ea\u8eab\u306e\u8eab\u4f53\u3092\u56de\u907f\u3059\u308b\u3053\u3068\u304c\u96e3\u3057\u304f\u306a\u308b\u3002\n\n(3) \u30d1\u30bd\u30b3\u30f3\u3067\u904a\u3076\u5834\u5408\u306f\u3001\u65b9\u5411\u30dc\u30bf\u30f3\u3092\u4f7f\u3063\u3066\u30d8\u30d3\u306e\u65b9\u5411\u3092\u5909\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\n(4) \u30b9\u30de\u30db\u3067\u904a\u3076\u5834\u5408\u306f\u3001\u30d8\u30d3\u3092\u79fb\u52d5\u3055\u305b\u305f\u3044\u753b\u9762\u3092\u30bf\u30c3\u30d7\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n</c>":this.playLab.string='<color=#0fffff> You play as a snake and as you collect "foods", the snake\'s body grows one character at a time.\n\n Snakes cannot stand still and are constantly moving around, so the more food they collect, the harder it is to avoid their bodies.\n\n When playing on a computer, use the keyboard direction buttons to change the direction of the snake.\n\n When playing with a smartphone, tap the screen where you want to move the snake.\n</c>'},onClickCloseBtn:function(){Global.musicManager.playCloseEffect(),this.node.destroy()},set:function(e,t){this[e]=t},get:function(e){return this[e]}}),cc._RF.pop()},{}],loading:[function(e,t){"use strict";cc._RF.push(t,"34e7aFW/uVFVIfXycZW6RWT","loading"),cc.Class({extends:cc.Component,properties:{cycleIcon:{default:null,type:cc.Node},heartIcon:{default:null,type:cc.Node},_timeout:null},onLoad:function(){if(this.cycleIcon){var e=this;this.cycleIcon.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){e.cycleIcon.angle-=20}),cc.delayTime(.05))))}this.heartIcon&&this.heartIcon.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,0,1),cc.delayTime(.2),cc.scaleTo(.3,1,1),cc.delayTime(.2))))},startCountDown:function(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(function(){e&&e(),Global.panel.closeLoading()},t)},set:function(e,t){this[e]=t},get:function(e){return this[e]}}),cc._RF.pop()},{}],openAnimation:[function(e,t){"use strict";cc._RF.push(t,"65bb247RRlErZfb4piDG0lH","openAnimation");var o=cc.Enum({SCALE:0,DOWN:1,LEFT:2,UP:3,RIGHT:4});cc.Class({extends:cc.Component,properties:{playOnLoad:!0,animType:{default:o.SCALE,type:o,displayName:"\u5f39\u7a97\u52a8\u753b\u7c7b\u578b"},endPos:{default:new cc.Vec2(0,0)},runTime:{default:.8,step:.1},_originalPos:null},onEnable:function(){0!=this.playOnLoad&&this.playAnimation(!0,!0)},playAnimation:function(e,t){switch(void 0===e&&(e=!0),void 0===t&&(t=!0),this.animType){case o.SCALE:this.scale_Function(e,t);break;case o.DOWN:case o.LEFT:case o.UP:case o.RIGHT:this.move_Function(e,t);break;default:console.error("\u52a8\u753b\u7c7b\u578b\u4e0d\u5b58\u5728 ! ")}},scale_Function:function(){var e=cc.scaleTo(.2,1);e.easing(cc.easeBackOut(.2));var t=[e,cc.fadeIn(.2)];this.node.stopAllActions(),this.node.setScale(.7),this.node.opacity=0;var o=cc.spawn(t);this.node.runAction(o)},move_Function:function(e,t){var a=null;switch(cc.winSize,this.animType){case o.SCALE:case o.DOWN:break;case o.LEFT:a=e?new cc.Vec2(this.endPos.x,this.node.y):new cc.Vec2(-2*cc.winSize.width,this.node.y);break;case o.UP:break;case o.RIGHT:a=e?new cc.Vec2(this.endPos.x,this.node.y):new cc.Vec2(2*cc.winSize.width,this.node.y);break;default:console.error("\u52a8\u753b\u7c7b\u578b\u4e0d\u5b58\u5728 ! ")}null!=a?t?this.node.runAction(cc.moveTo(this.runTime,a).easing(cc.easeBackInOut())):this.node.setPosition(a):this.node.setPosition(this.endPos)}}),cc._RF.pop()},{}],"polyglot.min":[function(e,t,o){"use strict";cc._RF.push(t,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min"),function(e,a){"function"==typeof define&&define.amd?define([],function(){return a(e)}):"object"==typeof o?t.exports=a(e):e.Polyglot=a(e)}(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||s}function o(e){var t,o,a,n={};for(t in e)if(e.hasOwnProperty(t))for(a in o=e[t])n[o[a]]=t;return n}function a(e){return e.replace(/^\s+|\s+$/g,"")}function n(e,t,o){var n;return null!=o&&e?a((n=e.split(u))[l(t,o)]||n[0]):e}function i(e){var t=o(p);return t[e]||t.en}function l(e,t){return d[i(e)](t)}function r(e,t){for(var o in t)"_"!==o&&t.hasOwnProperty(o)&&(e=e.replace(new RegExp("%\\{"+o+"\\}","g"),t[o]));return e}function s(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function c(e){var t={};for(var o in e)t[o]=e[o];return t}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var o;for(var a in e)e.hasOwnProperty(a)&&(o=e[a],t&&(a=t+"."+a),"object"==typeof o?this.extend(o,a):this.phrases[a]=o)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var o,a;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?o=this.phrases[e]:"string"==typeof t._?o=t._:this.allowMissing?o=e:(this.warn('Missing translation for key: "'+e+'"'),a=e),"string"==typeof o&&(t=c(t),a=r(a=n(o,this.currentLocale,t.smart_count),t)),a},t.prototype.has=function(e){return e in this.phrases};var u="||||",d={chinese:function(){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},p={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}],portal:[function(e,t){"use strict";cc._RF.push(t,"563d5hItgRBI6IuyKCnAJe/","portal");var o=e("collideManager");cc.Class({extends:cc.Component,properties:{a:{default:null,type:cc.Node},b:{default:null,type:cc.Node}},onLoad:function(){},createPort:function(){var e=o.randomEmptyPos();o.setCollide(e[0],e[1],{name:"portala",type:"portal",link:[]});var t=o.randomEmptyPos();o.setCollide(t[0],t[1],{name:"portalb",type:"portal",link:e.slice(0,2)}),o.getEventByKey(e[0],e[1]).link=t.slice(0,2),this.setPortPosition(this.a,e),this.setPortPosition(this.b,t),this.a.width=this.b.width=this.a.height=this.b.height=Global.cGridSize},setPortPosition:function(e,t){e.setPosition(t[0]*Global.cGridSize,t[1]*Global.cGridSize),e.opacity=255},removePortal:function(){this.a.opacity=this.b.opacity=0}}),cc._RF.pop()},{collideManager:"collideManager"}],promptUI:[function(e,t){"use strict";cc._RF.push(t,"397e3f5uUFJO5P8TyQdbRDB","promptUI");var o=cc.Class({extends:cc.Component,properties:{desLbl:cc.Label,coinNode:cc.Node,gemNode:cc.Node},showDes:function(e,t){this.desLbl.string=e,this.coinNode.active=!1,this.gemNode.active=!1,"coin"==t?this.coinNode.active=!0:"gem"==t&&(this.gemNode.active=!0);var o=this;this.node.runAction(cc.sequence(cc.moveBy(.2,0,150),cc.moveBy(1,0,0),cc.moveBy(.2,0,150),cc.fadeOut(.2),cc.callFunc(function(){o.node.destroy()})))},set:function(e,t){this[e]=t},get:function(e){return this[e]}});t.exports=o,cc._RF.pop()},{}],result:[function(e,t){"use strict";cc._RF.push(t,"6c4dfRtQypNFpkmKr4xbWmC","result");var o=e("GameConfig"),a=cc.Enum({0:"easy",1:"normal",2:"hard"});cc.Class({extends:cc.Component,properties:{lvlLab:{default:null,type:cc.Label},highestLab:{default:null,type:cc.Label},scoreLab:{default:null,type:cc.Label},restartBtn:{default:null,type:cc.Node}},onLoad:function(){Global.emitter.on(o.clientEvent.EnterBackground,this.EnterBackground,this),Global.emitter.on(o.clientEvent.EnterForeground,this.EnterForeground,this),this.registerEvent(),this.isBackGround=!1,Global.languageData.init(Global.language),this.lvlLab.string=Global.languageData.t("label_text."+a[Global.curLevel]),this.highestLab.string=Global.player.highestScore,this.scoreLab.string=Global.player.curScore,this.restartBtn.active="1"===cc.sys.localStorage.getItem("isFirstTime")},EnterBackground:function(){this.isBackGround=!0,this.unregisterEvent()},EnterForeground:function(){this.isBackGround&&(this.isBackGround=!1,this.registerEvent())},registerEvent:function(){Global.emitter.on(o.clientEvent.playGame,this.playGame,this)},unregisterEvent:function(){Global.emitter.off(o.clientEvent.playGame,this)},playGame:function(){this.node.destroy()},onClickHomeBtn:function(){var e=this;Global.musicManager.playClickEffect(),Global.panel.openLoading(),Global.tools.showAds("reward",!0,function(t){Global.panel.closeLoading();var o=new Object;o.adType="Rewarded",o.gameName=Global.getAppName(),o.weblinkSource=Global.getWeblinkSource(),o.gameFeature="rewardAD_home",t?Global.tools.gta.pushEvent("AdShowSuccess",o):Global.tools.gta.pushEvent("AdShowFail",o),Global.gameCtrl.gotoHome(),e.node.destroy()})},onClickRePlayBtn:function(){var e=this;Global.musicManager.playClickEffect(),Global.panel.openLoading(),Global.tools.showAds("reward",!0,function(t){Global.panel.closeLoading();var o=new Object;o.adType="Rewarded",o.gameName=Global.getAppName(),o.weblinkSource=Global.getWeblinkSource(),o.gameFeature="rewardAD_rePlay",t?Global.tools.gta.pushEvent("AdShowSuccess",o):Global.tools.gta.pushEvent("AdShowFail",o),t&&(cc.sys.localStorage.setItem("isFirstTime",0),Global.gameCtrl.playGame(Global.player.curScore),e.node.destroy())})},continue:function(){Global.gameCtrl.playGame(),this.node.destroy()},set:function(e,t){this[e]=t},get:function(e){return this[e]},onDestroy:function(){Global.emitter.off(o.clientEvent.EnterBackground,this),Global.emitter.off(o.clientEvent.EnterForeground,this),this.unregisterEvent()}}),cc._RF.pop()},{GameConfig:"GameConfig"}],settingCtrl:[function(e,t){"use strict";cc._RF.push(t,"4f083H8gQlOCpbjDw7imaz8","settingCtrl"),cc.Class({extends:cc.Component,properties:{initTimeEditBox:{default:null,type:cc.EditBox},reduceTimeEditBox:{default:null,type:cc.EditBox},intervalNumEditBox:{default:null,type:cc.EditBox},minTimeEditBox:{default:null,type:cc.EditBox},_parentCtrl:null},onSetData:function(e,t){this._parentCtrl=e,this.initTimeEditBox.string=t.initTime,this.reduceTimeEditBox.string=t.reduceTime,this.intervalNumEditBox.string=t.intervalNum,this.minTimeEditBox.string=t.minTime},onClickConfirmBtn:function(e){this.node.active=!1;var t={initTime:1*this.initTimeEditBox.string,reduceTime:1*this.reduceTimeEditBox.string,intervalNum:1*this.intervalNumEditBox.string,minTime:1*this.minTimeEditBox.string};this._parentCtrl&&(this._parentCtrl.onClickConfirmBtn(t),this._parentCtrl.onClickPauseOrResumeBtn(e,1))},onClickCloseBtn:function(e){this.node.active=!1,this._parentCtrl.onClickPauseOrResumeBtn(e,1)}}),cc._RF.pop()},{}],setting:[function(e,t){"use strict";cc._RF.push(t,"48c0736ZhlCuZtMHOxwvpsl","setting");var o=e("GameConfig");cc.Class({extends:cc.Component,properties:{musicToggle:{default:null,type:cc.Toggle},effectToggle:{default:null,type:cc.Toggle},languageLab:{default:null,type:cc.Label},versionLab:{default:null,type:cc.Label},resetBtn:{default:null,type:cc.Node}},onLoad:function(){var e=cc.sys.localStorage.getItem(Global.getAppName()+o.KEY.bgmusicStatus);null==e||null==e||1==e?this.musicToggle.check():0==e&&this.musicToggle.uncheck(),null==(e=cc.sys.localStorage.getItem(Global.getAppName()+o.KEY.effectStatus))||null==e||1==e?this.effectToggle.check():0==e&&this.effectToggle.uncheck(),this.languageLab.string=Global.languageData.t("label_text.language"),this.versionLab.string=Global.isDebug?"V"+Global.getVersion()+"-Devp":"V"+Global.getVersion()},onClickMusicToggleBtn:function(e){Global.musicManager.playClickEffect();var t=1==e.isChecked?1:0;cc.sys.localStorage.setItem(Global.getAppName()+o.KEY.bgmusicStatus,t),1==t?Global.musicManager.playBGM(o.PERLOAD_NAME.bgMusic):(Global.musicManager.pauseBGMusic(),Global.musicManager.stopAllEffects())},onClickEffectToggleBtn:function(e){Global.musicManager.playClickEffect();var t=1==e.isChecked?1:0;cc.sys.localStorage.setItem(Global.getAppName()+o.KEY.effectStatus,t),0==t&&Global.musicManager.stopAllEffects()},onClickCloseBtn:function(){Global.musicManager.playCloseEffect(),this.node.destroy()},onClickResetBtn:function(){Global.musicManager.playClickEffect()},onClickToggleBtn:function(e,t){Global.musicManager.playClickEffect(),"0"!=t&&Global.panel.showPrompt(Global.languageData.t("label_text.coming"))},set:function(e,t){this[e]=t},get:function(e){return this[e]}}),cc._RF.pop()},{GameConfig:"GameConfig"}],snake:[function(e,t){"use strict";cc._RF.push(t,"a7e32uUNuRCxKU1TnvQ1bPA","snake");var o=e("collideManager"),a={left:90,right:-90,up:180,down:0},n={left:"h",right:"h",up:"v",down:"v"};cc.Class({extends:cc.Component,properties:{bodyPrefab:{default:null,type:cc.Prefab},_bufferDir:null},onLoad:function(){this.bodyPool=new cc.NodePool;for(var e=0;e<15;e++){var t=cc.instantiate(this.bodyPrefab);this.bodyPool.put(t)}this.BodyArr=[],this.initSnake()},initSnake:function(){for(var e=0;e<1;e++)this.grow(0==e);this.MoveDir="up",this.setDir("left")},createBody:function(e,t,o){var a=null;a=this.bodyPool.size()>0?this.bodyPool.get():cc.instantiate(this.bodyPrefab),this.node.addChild(a),a.getComponent("body").setPro(e,t,o),this.BodyArr.push(a)},grow:function(e){var t=this.getTailGrid();this.createBody(t[0],t[1],e)},setDir:function(e){n[e]!=n[this.MoveDir]&&(this._bufferDir=e)},getTailGrid:function(){if(0==this.BodyArr.length)return[0,0];var e=this.BodyArr[this.BodyArr.length-1].getComponent("body");return[e.posx,e.posy]},setHeadGrid:function(e,t){var o=this.BodyArr[0].getComponent("body");o.posx=e,o.posy=t},getHeadGrid:function(){if(0==this.BodyArr.length)return[0,0];var e=this.BodyArr[0].getComponent("body");return[e.posx,e.posy]},updatePos:function(){var e,t,a,n=this.BodyArr;if(0!=n.length)for(var i=n.length-1;i>=0;i--){var l=n[i].getComponent("body");if(0==i){var r=(e=l.posx,t=l.posy,"left"==(a=this.MoveDir)?[e-1,t]:"right"==a?[e+1,t]:"up"==a?[e,t+1]:"down"==a?[e,t-1]:[e,t]);l.posx=r[0],l.posy=r[1]}else{var s=n[i-1].getComponent("body");l.posx=s.posx,l.posy=s.posy}o.setCollide(l.posx,l.posy,{name:"body"+i,type:"body"}),l.updatePos()}},updateDirFromBuffer:function(){n[this._bufferDir]!=n[this.MoveDir]&&(this.MoveDir=this._bufferDir,this.BodyArr[0].angle=-a[this.MoveDir])},blink:function(e){for(var t in this.BodyArr){var o=cc.blink(3,5);if(0==t){var a=cc.sequence(o,cc.callFunc(e));this.BodyArr[t].runAction(a)}else this.BodyArr[t].runAction(o)}},kill:function(){for(var e in this.BodyArr)this.bodyPool.put(this.BodyArr[e]);this.BodyArr=[]}}),cc._RF.pop()},{collideManager:"collideManager"}],"use_v2.1-2.2.1_cc.Toggle_event":[function(e,t){"use strict";cc._RF.push(t,"cfc6fJV+wBLq4lZWWHUh1dk","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["use_v2.1-2.2.1_cc.Toggle_event","GameConfig","Global","MusicManager","Panel","PreLoadManager","ResourceManager","Tools","emitter","openAnimation","ComboBox","Item","MainScene","apple","body","collideManager","fences","help","loading","portal","promptUI","result","setting","settingCtrl","snake","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);